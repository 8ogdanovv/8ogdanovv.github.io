<template>
  <div class="loader flex-col-center">
    <div class="circle2"></div>
  </div>
</template>

<style lang="scss" scoped>
@keyframes loading {
  0% {
    content: 'Loading...'
  }
  25% {
    content: 'Loading'
  }
  50% {
    content: 'Loading.'
  }
  75% {
    content: 'Loading..'
  }
  100% {
    content: 'Loading...'
  }
}

@keyframes twist-scale {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(15);
  }
  100% {
    transform: scale(.5);
  }
}
.loader, .circle2 {
  aspect-ratio: 1 / 1;
  position: relative;
  overflow: hidden;
}

.loader {
  &::before {
    overflow: hidden;
    content: '';
    position: absolute;
    width: 5rem;
    text-align: left;
    padding-left: 0.5rem;
    font-weight: bold;
    top: 50%;
    left: 50%;
    line-height: 125%;
    transform: translate(-50%, -50%) scale(2);
    animation: loading 4s infinite, twist-scale2 4s 2s infinite;

    background-clip: text;
    -webkit-background-clip: text;
    mix-blend-mode: var(--loader-bg-blend-mode);
    background: var(--bg0);

    clip-path: polygon(1% 5%, 1% 0%, 5% 0%, 5% 5%, 6% 6%, 8% 0%, 9% 3%, 20% 0%, 35% 3%, 35% 33%, 36% 0%, 66% 0%, 67% 3%, 68% 25%, 69% 3%, 86.5% 2%, 87% 15%, 86.25% 25%, 87% 45%, 87.5% 35%, 87.75% 25%, 88% 27%, 87.5% 25%, 87.25% 15%, 88% 2%, 95% 2%, 95% 95%, 96% 2%, 99% 3%, 99.5% 68%, 98.5% 100%, 97% 100%, 95.5% 95%, 95% 80%, 94% 100%, 55% 100%, 55% 95%, 53% 90%, 53% 100%, 36% 100%, 35% 50%, 34% 100%, 33% 99%, 20% 98%, 22% 94%, 8% 98%, 6% 96%, 5% 100%, 5.5% 35%, 4% 100%, 1% 100%, 0% 50%);
  }

  &::after {
    overflow: hidden;
    content: '';
    position: absolute;
    width: 8ch;
    height: 8ch;
    top: calc(50% - 4ch);
    left: calc(50% - 4ch);
    transform-origin: center;
    animation: twist-scale 4s infinite;
    border: 0.25rem solid transparent;
    border-radius: 50%;
    background-color: var(--accent0);
    background-clip: text;
    -webkit-background-clip: text;
    z-index: -1;

    box-shadow: inset 0 0 10rem var(--accent0);
    filter: blur(1rem) contrast(2);
  }
}
</style>
